
<div class="modal @(_visible ? "show" : "")">
    <div class="modal-content" style="max-width:400px;">
        <div class="modal-header">
            <h3>@Title</h3>
            <button class="modal-close" @onclick="Cancel"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body" style="text-align:center;padding:2rem;">
            <i class="fas fa-exclamation-triangle" style="font-size:3rem;color:var(--danger);margin-bottom:1rem;display:block;"></i>
            <p style="font-size:1.05rem;margin-bottom:1.5rem;">@Message</p>
            <div style="display:flex;gap:1rem;justify-content:center;">
                <button class="btn-secondary" @onclick="Cancel">Cancel</button>
                <button class="btn-submit" style="background:var(--danger);" @onclick="Confirm">
                    <i class="fas fa-trash"></i> Delete
                </button>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter] public string Title { get; set; } = "Confirm Delete";
    [Parameter] public string Message { get; set; } = "Are you sure you want to delete this item? This cannot be undone.";
    [Parameter] public EventCallback OnConfirmed { get; set; }

    private bool _visible;

    public Task ShowAsync()
    {
        _visible = true;
        return InvokeAsync(StateHasChanged);
    }

    private void Confirm()
    {
        _visible = false;
        if (OnConfirmed.HasDelegate)
            OnConfirmed.InvokeAsync( );
    }

    private void Cancel()
    {
        _visible = false;
        InvokeAsync(StateHasChanged);
    }
}
